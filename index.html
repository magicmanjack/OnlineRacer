<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OnlineRacer</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jersey+15&display=swap" rel="stylesheet">
</head>

<body>
    <div id="gameContainer">
        <canvas id="c"></canvas>
        <div id="ui-overlay">
            <div id="timer-display">00:00.00</div>
            <div id="lap-counter">1/3</div>
            <div id="speedometer">
                <div id="speed-bar"></div>
            </div>
            <div id="volume-slider">
                Volume
                <input type="range" id="volume" min="0" max="1" value="0.35" step="0.01" />
            </div>
        </div>
    </div>
    <script>
        // Set canvas size to fill entire screen
        function resizeCanvas() {
            const canvas = document.getElementById('c');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            if (typeof updateViewport === 'function') {
                updateViewport();
            }
        }

        // Initial resize
        resizeCanvas();

        // Resize canvas when window size changes
        window.addEventListener('resize', resizeCanvas);

        // Update speedometer display
        const speedo = {
            maxSpeed: 0
        }

        function updateSpeedometer(velocity) {
            const speedBar = document.getElementById('speed-bar');
            const speed = Math.abs(velocity);
            const maxSpeed = speedo.maxSpeed;
            const percentage = Math.min((speed / maxSpeed) * 100, 100);
            speedBar.style.width = percentage + '%';
            if (percentage >= 100) {
                speedBar.style.background = '#00ffff';
            } else {
                speedBar.style.background = '#00ff00';
            }
        }
    </script>
    <script type="text/javascript" src="assimp/assimpjs.js"></script>
    <script type="text/javascript" src="src/model_loader.js"></script>
    <script type="text/javascript" src="src/matrix.js"></script>
    <script type="text/javascript" src="src/shaders.js"></script>
    <script type="text/javascript" src="src/camera.js"></script>
    <script type="text/javascript" src="src/plane.js"></script>
    <script type="text/javascript" src="src/cube.js"></script>
    <script type="text/javascript" src="src/gamepad.js"></script>
    <script type="text/javascript" src="src/mesh.js"></script>
    <script type="text/javascript" src="src/collision_plane.js"></script>
    <script type="text/javascript" src="src/scene_graph.js"></script>
    <script type="text/javascript" src="src/ui_panel.js"></script>
    <script type="text/javascript" src="src/input.js"></script>
    <script type="text/javascript" src="server/client.js"></script>
    <script type="text/javascript" src="src/network_cars.js"></script>
    <script type="text/javascript" src="src/leaderboard.js"></script>
    <script type="text/javascript" src="src/car.js"></script>
    <script type="text/javascript" src="src/track.js"></script>
    <script type="text/javascript" src="src/init.js"></script>
    <script type="text/javascript" src="src/main.js"></script>

    <audio id="music_race01" src="sounds/music_race01.ogg" loop></audio>
    <audio id="music_race02" src="sounds/music_race02.ogg" loop></audio>
    <audio id="music_race03" src="sounds/music_race03.ogg" loop></audio>
    <audio id="music_race04" src="sounds/music_race04.mp3" loop></audio>
    <audio id="music_race05" src="sounds/music_race05.wav" loop></audio>
    <audio id="music_race06" src="sounds/music_race06.ogg" loop></audio>
    <audio id="sfx_red_light" src="sounds/sfx_red_light.mp3"></audio>
    <audio id="sfx_orange_light" src="sounds/sfx_orange_light.mp3"></audio>
    <audio id="sfx_green_light" src="sounds/sfx_green_light.mp3"></audio>
    <audio id="sfx_boost" src="sounds/sfx_boost.mp3"></audio>
    <audio id="sfx_obstacle_crash" src="sounds/sfx_obstacle_crash.mp3"></audio>
    <audio id="sfx_next_lap_reached" src="sounds/sfx_next_lap_reached.wav"></audio>
    <audio id="sfx_race_finished" src="sounds/sfx_race_finished.wav"></audio>
</body>

</html>